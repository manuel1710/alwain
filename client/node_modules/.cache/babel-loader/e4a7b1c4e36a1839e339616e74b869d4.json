{"ast":null,"code":"var _jsxFileName = \"/home/javian/Documents/alwain/client/src/pages/Gallery.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport Navbar from \"../components/Navbar\";\nimport axios from \"axios\";\nimport { Buffer } from 'buffer'; // import { SRLWrapper } from \"simple-react-lightbox\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Gallery() {\n  _s();\n\n  // const url = 'http://localhost:5000/file/upload';\n  const url = \"https://alwainserver.herokuapp.com/file/upload\";\n  const [imageList, setImageList] = useState([]);\n  const [imageName, setImageName] = useState([]); // const [itemName, setItemName] = useState([]);\n\n  var itemName = '';\n  var deleteName = '';\n  var deleteDate = '';\n  var deleteFileName = '';\n  const folders = [\"school\", \"work\", \"hospital\", \"laboratory\", \"freelance\"];\n  const [data, setData] = useState([]);\n\n  function getAll() {\n    axios.get(url, {\n      params: {\n        tag: ''\n      }\n    }).then(res => setData(res.data)).catch(err => console.log(err, \"it has an error\"));\n  }\n\n  function getFolder() {\n    axios.get(url, {\n      params: {\n        tag: itemName\n      }\n    }).then(res => setData(res.data)).catch(err => console.log(err, \"it has an error\"));\n  }\n\n  function deleteFile() {\n    axios.delete(url, {\n      params: {\n        name: deleteName,\n        uploadDate: deleteDate,\n        filename: deleteFileName\n      }\n    }).then(res => setData(res.data)).catch(err => console.log(err, \"it has an error\"));\n  }\n\n  useEffect(() => {\n    getAll();\n    getFolder();\n    deleteFile();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filterItems\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"col p-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-uppercase\",\n              onClick: getAll,\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), folders.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"col p-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-uppercase btn-success\",\n              onClick: () => {\n                itemName = item;\n                getFolder();\n              },\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: data.map((singleData, i) => {\n          var base64String1 = Buffer.from(singleData.img.data.data, 'utf8').toString('base64');\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-3 col-md-6 col-sm-12 bord p-1 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"w-100 p-1\",\n              src: `data:${singleData.img.contentType};base64,${base64String1}`,\n              width: \"300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: `Name of File: ${singleData.name}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: `Uploaded on: ${singleData.uploadDate}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => {\n                deleteName = singleData.name;\n                deleteDate = singleData.uploadDate;\n                deleteFileName = singleData.originalname;\n                deleteFile();\n                alert('File has been Deleted');\n                window.location.href = \"/gallery\";\n              },\n              children: \" Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Gallery, \"2PQL9LrIhU4C29/eWSOBOY1asx0=\");\n\n_c = Gallery;\nexport default Gallery;\n\nvar _c;\n\n$RefreshReg$(_c, \"Gallery\");","map":{"version":3,"names":["React","useState","useEffect","Navbar","axios","Buffer","Gallery","url","imageList","setImageList","imageName","setImageName","itemName","deleteName","deleteDate","deleteFileName","folders","data","setData","getAll","get","params","tag","then","res","catch","err","console","log","getFolder","deleteFile","delete","name","uploadDate","filename","map","item","i","singleData","base64String1","from","img","toString","contentType","originalname","alert","window","location","href"],"sources":["/home/javian/Documents/alwain/client/src/pages/Gallery.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport Navbar from \"../components/Navbar\";\nimport axios from \"axios\";\nimport {Buffer} from 'buffer';\n// import { SRLWrapper } from \"simple-react-lightbox\";\n\nfunction Gallery() {\n  // const url = 'http://localhost:5000/file/upload';\n  const url = \"https://alwainserver.herokuapp.com/file/upload\";\n  const [imageList, setImageList] = useState([]);\n  const [imageName, setImageName] = useState([]);\n  // const [itemName, setItemName] = useState([]);\n  var itemName ='';\n  var deleteName = '';\n  var deleteDate ='';\n  var deleteFileName = '';\n  const folders = [\"school\", \"work\", \"hospital\", \"laboratory\", \"freelance\"];\n\n  const [data, setData] = useState([]);\n\n  function getAll() {\n    axios\n      .get(url,{params:{tag: ''}})\n      .then((res) => setData(res.data))\n      .catch((err) => console.log(err, \"it has an error\"));\n  }\n\n  function getFolder() {\n    axios\n      .get(url, {params:{tag: itemName}})\n      .then((res) => setData(res.data))\n      .catch((err) => console.log(err, \"it has an error\"));\n  }\n  function deleteFile() {\n    axios\n      .delete(url, {params:{name: deleteName, uploadDate:deleteDate, filename:deleteFileName}})\n      .then((res) => setData(res.data))\n      .catch((err) => console.log(err, \"it has an error\"));\n      \n  }\n\n  useEffect(() => {\n    getAll();\n    getFolder();\n    deleteFile();\n  }, []);\n\n\n  return (\n    <div className=\"\">\n      <Navbar />\n      <div className=\"container-fluid\">\n        <div className=\"filterItems\">\n          <ul className=\"row\">\n            <li className=\"col p-3\">\n              <button className=\"text-uppercase\" onClick={getAll}>\n                All\n              </button>\n            </li>\n            {folders.map((item, i) => (\n              <li key={i} className=\"col p-3\">\n                <button\n                  className=\"text-uppercase btn-success\"\n                  onClick={()=>{\n                    itemName = item;\n                    getFolder();\n\n                  }}\n                >\n                  {item}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"row\">\n          {data.map((singleData,i) => {\n            var base64String1 = Buffer.from(singleData.img.data.data, 'utf8').toString('base64');\n            return (\n              <div key={i} className=\"col-lg-3 col-md-6 col-sm-12 bord p-1 text-center\">\n                {/* <SRLWrapper> */}\n                <img className=\"w-100 p-1\" src={`data:${singleData.img.contentType};base64,${base64String1}`} width=\"300\" />\n                {/* </SRLWrapper> */}\n                <span>{`Name of File: ${singleData.name}`}</span>\n                <br />\n                <span>{`Uploaded on: ${singleData.uploadDate}`}</span>\n                <button className=\"btn btn-primary\" onClick={()=>{\n                  deleteName = singleData.name;\n                  deleteDate = singleData.uploadDate;\n                  deleteFileName = singleData.originalname;\n                  deleteFile();\n                  alert('File has been Deleted');\n                  window.location.href = \"/gallery\";\n                }}> Delete</button>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Gallery;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}